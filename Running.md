How to download a file from Google Webmaster Tools.

# Introduction #

This documentation explains how to automate the file download process from Google Webmaster Tools by using the python script downloader.py.

# Details #
The steps for running this example script are as follows:

  1. Download and install the Google Data APIs Python Client Library.
  1. Create a folder and add the downloader.py script to it.
  1. In the same folder where you added downloader.py, create and run the following Python script. You’ll need to replace the example values for “website”, “email” and “password” with valid values for your site.

```
#!/usr/bin/python

# Import the downloader
from downloader import Downloader

# Email address and password used to sign-in to Webmaster Tools
email = 'user@example.com'
password = '********'
# Specify the website and the type of data to download
website = 'http://www.example.com/'
selected_downloads = ['TOP_QUERIES']

# Instantiate the downloader object
downloader = Downloader()
# Authenticate with your Webmaster Tools sign-in info
downloader.LogIn(email, password)
# Initiate the download
downloader.DoDownload(website, selected_downloads)
```

Here is a more advanced example of how to automatically download a file, then upload it to Google Docs.
```
#!/usr/bin/python

# Import the downloader
from downloader import Downloader
# Import gdata objects for uploading files to Google Docs
import gdata.docs
import gdata.docs.service

# Email address and password used to sign-in to Webmaster Tools and Google Docs
email = 'user@example.com'
password = '********'
# Specify the website and the type of data to download
website = 'http://www.example.com/'
selected_downloads = ['TOP_QUERIES']

# Instantiate the downloader object
downloader = Downloader()
# Authenticate with your Webmaster Tools sign-in info
downloader.LogIn(email, password)
# Initiate the download
downloader.DoDownload(website, selected_downloads)

# Create a client class which will make HTTP requests with Google Docs server
gd_client = gdata.docs.service.DocsService()
# Authenticate using your Google Docs sign-in info
gd_client.ClientLogin(email, password)

# Get the csv file name that was generated by the downloader script and use it to upload the file to Google Docs
for line in downloader.GetDownloadedFiles():
  ms = gdata.MediaSource(file_path=line.strip(), content_type=gdata.docs.service.SUPPORTED_FILETYPES['CSV'])
  entry = gd_client.Upload(ms, line.strip())
  # Display the URL of the uploaded file to the command line's standard-output
  print 'Spreadsheet now accessible online at:', entry.GetAlternateLink().href
```